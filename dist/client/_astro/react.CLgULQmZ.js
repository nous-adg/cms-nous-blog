import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r}from"./index.DB02PGg6.js";import"./PostItem.CBIGWHob.js";import"./categoryLabels.CBjB4mnr.js";function N(){const[o,i]=r.useState({published:0,draft:0,totalViews:0}),[a,d]=r.useState(!0),[u,x]=r.useState(null);return r.useEffect(()=>{const l="https://blog-api-rrttqa.fly.dev/api/v1";async function h(){try{const[t,c,n]=await Promise.all([fetch(`${l}/posts?status=PUBLISHED`).catch(e=>(console.error("Fetch published error:",e),null)),fetch(`${l}/posts?status=DRAFT`).catch(e=>(console.error("Fetch draft error:",e),null)),fetch(`${l}/posts/stats/views`).catch(e=>(console.error("Fetch views error:",e),null))]),f=t?.ok?await t.json():{total:0},p=c?.ok?await c.json():{total:0},m=n?.ok?await n.json():{totalViews:0};i({published:f.total||0,draft:p.total||0,totalViews:m.totalViews||0})}catch(t){console.error("Error fetching stats:",t),x(t instanceof Error?t.message:"Unknown error")}finally{d(!1)}}h()},[]),s.jsx("section",{className:"container mx-auto max-w-12xl mt-10",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[s.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[s.jsx("h3",{className:"font-semibold text-gray-400",children:"Cantidad de vistas"}),s.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":o.totalViews.toLocaleString()})]}),s.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[s.jsx("h3",{className:"font-semibold text-gray-400",children:"Cantidad de suscriptores"}),s.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:"32"})]}),s.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[s.jsx("h3",{className:"font-semibold text-gray-400",children:"Posts publicados"}),s.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":o.published})]}),s.jsxs("article",{className:"flex flex-col gap-2 rounded-lg glass p-4 border border-white/5",children:[s.jsx("h3",{className:"font-semibold text-gray-400",children:"Posts en borrador"}),s.jsx("p",{className:"text-3xl font-bold text-[var(--color-secondary)]",children:a?"...":o.draft})]})]})})}export{N as StatusCards};
