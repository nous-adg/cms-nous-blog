---
import "@/styles/global.css";
import { SignIn } from "@clerk/astro/components";
import { dark } from "@clerk/themes";

const { userId } = await Astro.locals.auth();

if (userId) {
    return Astro.redirect("/admin");
}
---

<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <title>Acceso al CMS</title>
    </head>
    <body
        class="bg-black min-h-screen flex items-center justify-center relative overflow-hidden"
    >
        <!-- Prismatic Aurora Burst - Multi-layered Gradient (Consistent with AdminLayout) -->
        <div
            class="absolute inset-0 z-0"
            style={{
                background: `
          radial-gradient(ellipse 120% 80% at 70% 20%, rgba(255, 20, 147, 0.15), transparent 50%),
          radial-gradient(ellipse 100% 60% at 30% 10%, rgba(0, 255, 255, 0.12), transparent 60%),
          radial-gradient(ellipse 90% 70% at 50% 0%, rgba(138, 43, 226, 0.18), transparent 65%),
          radial-gradient(ellipse 110% 50% at 80% 30%, rgba(255, 215, 0, 0.08), transparent 40%),
          #000000
        `,
            }}
        >
        </div>

        <div class="z-10 relative w-full max-w-md px-4">
            <div
                class="backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-8 shadow-2xl"
            >
                <div class="mb-8 text-center">
                    <h1 class="text-3xl font-bold text-white mb-2">
                        Bienvenido
                    </h1>
                    <p class="text-gray-400">
                        Inicia sesi√≥n para gestionar el contenido
                    </p>
                </div>

                <div class="flex justify-center">
                    <SignIn
                        routing="hash"
                        forceRedirectUrl="/admin"
                        appearance={{
                            baseTheme: dark,
                            elements: {
                                rootBox: "w-full",
                                card: "bg-transparent shadow-none w-full p-0",
                                headerTitle: "hidden",
                                headerSubtitle: "hidden",
                                formButtonPrimary:
                                    "bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 border-none",
                            },
                        }}
                    />
                </div>
            </div>
        </div>
    </body>
</html>
